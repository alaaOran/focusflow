@tailwind base;
@tailwind components;
@tailwind utilities;

/* Modern calm pastel theme */
:root{
  --bg-start: #f7f9ff;
  --bg-end: #eef2ff;
  --text: #1f2937;
  --muted: #6b7280;
  --glass: rgba(255, 255, 255, 0.55);
  --accent: #8b5cf6;
  --accent-soft: #a78bfa;
  --ring: rgba(139,92,246,0.35);
}

/* Dark theme */
:root[data-theme='dark']{
  --bg-start: #0b1220;
  --bg-end: #0f172a;
  --text: #e5e7eb;
  --muted: #9ca3af;
  --glass: rgba(17, 24, 39, 0.55);
  --accent: #a78bfa;
  --accent-soft: #c4b5fd;
  --ring: rgba(167,139,250,0.45);
}

body{
  background: radial-gradient(60% 80% at 0% 0%, var(--bg-start) 0%, var(--bg-end) 100%);
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  color: var(--text);
  height: 100vh;
  transition: background 300ms ease, color 200ms ease;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

/***** Glass panel *****/
.glass {
  background: var(--glass);
  backdrop-filter: blur(10px) saturate(120%);
  -webkit-backdrop-filter: blur(10px) saturate(120%);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(15,23,42,0.10);
  border: 1px solid rgba(255,255,255,0.55);
}

.glass-xl{
  background: var(--glass);
  backdrop-filter: blur(14px) saturate(140%);
  -webkit-backdrop-filter: blur(14px) saturate(140%);
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(15,23,42,0.18);
  border: 1px solid rgba(255,255,255,0.55);
}

/***** Small UI utilities *****/
.btn{
  @apply px-4 py-2 rounded-md transition shadow-sm; 
  background: linear-gradient(180deg, var(--accent-soft), var(--accent));
  color: white;
}
.btn:hover{ filter: brightness(1.05); }

.btn-ghost{ @apply px-3 py-2 rounded-md; background: transparent; color: var(--text); }
.btn-ghost:hover{ background: rgba(0,0,0,0.04); }
[data-theme='dark'] .btn-ghost:hover{ background: rgba(255,255,255,0.06); }

.input{ @apply px-3 py-2 rounded-md outline-none w-full; background: rgba(255,255,255,0.7); color: var(--text); }
.input::placeholder{ color: var(--muted); }
.input:focus{ outline: 2px solid var(--ring); box-shadow: 0 0 0 4px var(--ring); }
[data-theme='dark'] .input{ background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.08); }

/* Ensure typography and editor text are visible in dark mode */
.prose, .prose *{ color: var(--text) !important; }
.prose a{ color: var(--accent) !important; }

/* Text selection */
::selection{ background: var(--ring); color: var(--text); }

/***** Editor (TipTap / ProseMirror) *****/
.ProseMirror{ color: var(--text); background: transparent; min-height: 300px; padding: 12px; border-radius: 12px; }
.ProseMirror:focus{ outline: 2px solid var(--ring); box-shadow: 0 0 0 4px var(--ring); }
.ProseMirror p{ margin: 0.5rem 0; }
.ProseMirror h1, .ProseMirror h2, .ProseMirror h3, .ProseMirror h4{ color: var(--text); }
.ProseMirror *{ color: var(--text); }

/***** Diary typography *****/
.diary .diary-editor{ max-width: 940px; margin: 0 auto; }
.diary .diary-editor .ProseMirror{
  font-family: Georgia, ui-serif, Cambria, "Times New Roman", serif;
  font-size: 19px;
  line-height: 1.85;
  padding: 22px; /* comfortable padding */
  background: rgba(255,255,255,0.96);
  border: 1px solid rgba(0,0,0,0.06);
  border-radius: 16px;
  box-shadow: 0 12px 32px rgba(17,24,39,0.08);
}
.diary .diary-editor .ProseMirror p{ margin: 1rem 0; }
.diary .diary-editor .ProseMirror h1{ font-size: 2rem; margin: 1.25rem 0 0.75rem; font-weight: 700; }
.diary .diary-editor .ProseMirror h2{ font-size: 1.6rem; margin: 1.1rem 0 0.6rem; font-weight: 700; }
.diary .diary-editor .ProseMirror h3{ font-size: 1.3rem; margin: 1rem 0 0.5rem; font-weight: 600; }
.diary .input{ font-size: 16px; }

/* Dark theme adjustments for diary paper */
:root[data-theme='dark'] .diary .diary-editor .ProseMirror{
  background: rgba(17,24,39,0.6);
  border: 1px solid rgba(255,255,255,0.08);
  box-shadow: 0 14px 36px rgba(0,0,0,0.25);
}

/***** Micro-interactions *****/
.hover-lift{ transition: transform 180ms ease, box-shadow 180ms ease, background 180ms ease; }
.hover-lift:hover{ transform: translateY(-2px); box-shadow: 0 12px 28px rgba(15,23,42,0.12); }

.card-hover{ transition: box-shadow 180ms ease, background 180ms ease; }
.card-hover:hover{ box-shadow: 0 12px 28px rgba(15,23,42,0.12); background: rgba(255,255,255,0.72); }

.fade-in{ animation: fadeIn 220ms ease both; }
.slide-up{ animation: slideUp 240ms cubic-bezier(.2,.7,.2,1) both; }

@keyframes fadeIn{ from{ opacity: 0 } to{ opacity: 1 } }
@keyframes slideUp{ from{ opacity: 0; transform: translateY(8px) } to{ opacity: 1; transform: translateY(0) } }

/* Gradient title text */
.title-gradient{
  background: linear-gradient(90deg, var(--accent), var(--accent-soft));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}

/* Headline gradient underline */
.headline{ position: relative; display: inline-block; padding-bottom: 6px; }
.headline::after{ content: ""; position: absolute; left: 0; bottom: 0; height: 3px; width: 56px; border-radius: 999px;
  background: linear-gradient(90deg, var(--accent), var(--accent-soft)); box-shadow: 0 6px 18px rgba(167,139,250,0.35);
}

/* Button shine effect */
.btn.btn-shine{ position: relative; overflow: hidden; }
.btn.btn-shine::after{ content: ""; position: absolute; top: -50%; left: -30%; width: 40%; height: 200%;
  background: linear-gradient(120deg, rgba(255,255,255,0.0) 0%, rgba(255,255,255,0.6) 50%, rgba(255,255,255,0.0) 100%);
  transform: skewX(-20deg); filter: blur(2px); opacity: 0; transition: opacity 200ms ease; }
.btn.btn-shine:hover::after{ left: 130%; opacity: 0.65; transition: left 900ms cubic-bezier(.2,.7,.2,1), opacity 200ms ease; }

/***** Aurora background *****/
.aurora{ position: absolute; inset: 0; overflow: hidden; pointer-events: none; z-index: 0; }
.aurora{ will-change: transform; }
.aurora .blob{ position: absolute; filter: blur(60px); opacity: 0.45; mix-blend-mode: plus-lighter; border-radius: 50%;
  animation: floatY 10s ease-in-out infinite alternate, floatX 14s ease-in-out infinite alternate, spin 22s linear infinite; }
.aurora .blob.p1{ width: 420px; height: 420px; left: -80px; top: -60px; background: radial-gradient(circle at 30% 30%, var(--accent) 0%, transparent 60%); }
.aurora .blob.p2{ width: 520px; height: 520px; right: -120px; top: -40px; background: radial-gradient(circle at 70% 30%, var(--accent-soft) 0%, transparent 60%); animation-delay: 1s; }
.aurora .blob.p3{ width: 480px; height: 480px; left: 20%; bottom: -140px; background: radial-gradient(circle at 40% 70%, #60a5fa 0%, transparent 60%); animation-delay: 2s; }
[data-theme='dark'] .aurora .blob{ opacity: 0.35; }

@keyframes floatY{ from{ transform: translateY(-12px) } to{ transform: translateY(12px) } }
@keyframes floatX{ from{ transform: translateX(-16px) } to{ transform: translateX(16px) } }
@keyframes spin{ from{ rotate: 0deg } to{ rotate: 360deg } }

/***** Accent palette variants *****/
:root[data-accent='violet']{ --accent:#8b5cf6; --accent-soft:#a78bfa; --ring: rgba(139,92,246,0.35); }
:root[data-accent='peach']{ --accent:#fb7185; --accent-soft:#fda4af; --ring: rgba(251,113,133,0.35); }
:root[data-accent='teal'] { --accent:#14b8a6; --accent-soft:#5eead4; --ring: rgba(20,184,166,0.35); }
:root[data-accent='blue'] { --accent:#60a5fa; --accent-soft:#93c5fd; --ring: rgba(96,165,250,0.35); }

.accent-dot{ width:14px; height:14px; border-radius:999px; box-shadow:0 0 0 2px rgba(255,255,255,0.6) inset; }
.accent-dot.violet{ background:#8b5cf6; }
.accent-dot.peach{ background:#fb7185; }
.accent-dot.teal{ background:#14b8a6; }
.accent-dot.blue{ background:#60a5fa; }

/***** 3D tilt utility *****/
.tilt-3d{ transition: transform 220ms ease, box-shadow 220ms ease; transform-style: preserve-3d; will-change: transform; }
.tilt-3d:hover{ transform: perspective(900px) rotateX(4deg) rotateY(-4deg) translateY(-2px); box-shadow: 0 12px 30px rgba(0,0,0,0.12); }

/***** Scrollbar *****/
*{ scrollbar-width: thin; scrollbar-color: var(--accent-soft) transparent; }
*::-webkit-scrollbar{ width: 8px; height: 8px; }
*::-webkit-scrollbar-thumb{ background: linear-gradient(180deg, var(--accent-soft), var(--accent)); border-radius: 9999px; }
*::-webkit-scrollbar-track{ background: transparent; }